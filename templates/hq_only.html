<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HQ Camera Test</title>
    <style>
      body { background: #111; color: #eee; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; height:100vh; margin:0; }
      header { width:100%; padding:12px; text-align:center; background:#0b0b0b; box-shadow:0 2px 6px rgba(0,0,0,.6); }
      .status { margin-top:8px; }
      img { max-width:100%; height:auto; display:block; margin:12px auto; background:#000; }
      .controls { margin:8px; }
      button { padding:8px 12px; font-size:14px; }
    </style>
  </head>
  <body>
    <header>
      <h1>High Quality Camera (HQ) â€” Test Viewer</h1>
      <div class="status">Status: <span id="hq-status">{{ 'online' if hq_online else 'offline' }}</span></div>
    </header>

    <div class="controls">
      <button id="reload">Reload Stream</button>
    </div>

    <div class="viewer">
      <img id="hq_img" src="{{ url_for('video_feed_hq') }}" alt="HQ camera stream">
    </div>

    <script>
      document.getElementById('reload').addEventListener('click', function(){
        const img = document.getElementById('hq_img');
        // force reload by changing src with cache buster
        img.src = '{{ url_for('video_feed_hq') }}' + '?t=' + Date.now();
      });
    </script>
  </body>
</html>
